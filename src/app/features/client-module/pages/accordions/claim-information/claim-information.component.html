<mat-accordion>
  <mat-expansion-panel class="full-bg-panel" [expanded]="false">
    <mat-expansion-panel-header>
      <mat-panel-title>Claim Information</mat-panel-title>
    </mat-expansion-panel-header>

    <div class="claim-section">
      <div class="form-group">
        <label for="claimsManager" class="field-label">
          Claims Manager <span class="required">*</span>
        </label>
        <ng-select
          [items]="claimsManagers"
          bindLabel="label"
          bindValue="value"
          [(ngModel)]="selectedManager"
          name="claimsManager"
          [ngModelOptions]="{ standalone: true }"
          (ngModelChange)="updateClaimState()"
          placeholder="Select Claims Manager"
          class="text-input">
        </ng-select>
      </div>

      <label class="sub-label">Claim Form Declaration</label>
    </div>

    <!-- Rich text editor (HTML) -->
 <quill-editor
  [(ngModel)]="claimDeclaration"
  name="claimDeclaration"
  format="html"
  [sanitize]="false"
  theme="snow"
    (ngModelChange)="onModelChange($event)"
  [modules]="quillModules"
  [ngModelOptions]="{ standalone: true }">
</quill-editor>


    <!-- Plain text box -->
    <div class="form-section">
      <label for="claimDeclarationPlain" class="form-label">
        Claim Form Declaration Plain
      </label>
      <textarea
        id="claimDeclarationPlain"
        [(ngModel)]="editorContent"
        name="claimDeclarationPlain"
        [ngModelOptions]="{ standalone: true }"
        (ngModelChange)="updateClaimState()"
        rows="2"
        class="form-textarea">
      </textarea>

      <div class="form-row">
        <div class="form-group is-active-group">
          <label class="toggle-label">Process Claims?</label>
          <label class="toggle-switch">
            <input
              type="checkbox"
              [(ngModel)]="processClaims"
              name="processClaims"
              [ngModelOptions]="{ standalone: true }"
              (ngModelChange)="updateClaimState()" />
            <span class="slider"></span>
          </label>
        </div>

        <div class="form-group is-active-group">
          <label class="toggle-label">Nearest Claim Centre?</label>
          <label class="toggle-switch">
            <input
              type="checkbox"
              [(ngModel)]="nearestClaimCentre"
              name="nearestClaimCentre"
              [ngModelOptions]="{ standalone: true }"
              (ngModelChange)="updateClaimState()" />
            <span class="slider"></span>
          </label>
        </div>

        <div class="form-group is-active-group">
          <label class="toggle-label">Enable Death Claim Voucher Export?</label>
          <label class="toggle-switch">
            <input
              type="checkbox"
              [(ngModel)]="enableDeathClaimVoucher"
              name="enableDeathClaimVoucher"
              [ngModelOptions]="{ standalone: true }"
              (ngModelChange)="updateClaimState()" />
            <span class="slider"></span>
          </label>
        </div>
      </div>
    </div>
  </mat-expansion-panel>
</mat-accordion>
